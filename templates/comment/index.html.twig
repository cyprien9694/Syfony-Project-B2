{% extends 'base.html.twig' %}

{% block title %}Commentaires{% endblock %}

{% block body %}
<h1>Commentaires</h1>

{% if app.user is defined and app.user %}
    <a class="btn" href="{{ path('comment_new') }}">Ajouter un commentaire</a>
{% endif %}

{% if comments is not empty %}
    {% for comment in comments %}
        <div class="comment">
            <div class="comment-author">{{ comment.author }} - {{ comment.createdAt|date('d/m/Y H:i') }}</div>
            <div class="comment-content">{{ comment.content }}</div>

            {% if app.user is defined and app.user %}
                <a class="btn" href="{{ path('comment_edit', {'id': comment.id}) }}">Modifier</a>
                <form action="{{ path('comment_delete', {'id': comment.id}) }}" method="POST" style="display:inline;">
                    <button class="btn btn-danger" type="submit" onclick="return confirm('Supprimer ce commentaire ?')">Supprimer</button>
                </form>
            {% endif %}
        </div>
    {% endfor %}
{% else %}
    <p>Aucun commentaire pour lâ€™instant.</p>
{% endif %}
{% endblock %}
