{% extends 'base.html.twig' %}

{% block title %}Liste des Ã©toiles
{% endblock %}

{% block stylesheets %}
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
	<link rel="stylesheet" href="{{ asset('css/star.css') }}">
{% endblock %}

{% block body %}
	<!-- NAVBAR -->
	<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
		<div class="container-fluid ">
			<a class="navbar-brand fw-bold" href="{{ path('app_home') }}">
				â­ Liste des Ã©toiles
			</a>

			<div class="collapse navbar-collapse">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item">
						<a class="nav-link" href="{{ path('app_home') }}">Accueil</a>
					</li>
					<li class="nav-item">
						<a class="nav-link active" href="{{ path('app_star') }}">â­ Ã‰toiles</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{{ path('app_star_day') }}">ğŸŒŸ Ã‰toile du jour</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{{ path('app_contact') }}">â„¹ï¸ Ã€ propos</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="{{ path('app_comment') }}">ğŸ’¬ Commentaires</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	{# Messages flash #}
	{% for label, messages in app.flashes %}
		{% for message in messages %}
			<div class="flash-{{ label }}">
				{{ message }}
			</div>
		{% endfor %}
	{% endfor %}

	<!-- CONTENU PRINCIPAL -->
	<main
		class="container content">

		<!-- HEADER PAGE -->
		<div class="d-flex justify-content-between align-items-center mb-4 flex-wrap gap-3">
			<h2 class="page-title">ğŸŒŸ Nos Ã©toiles</h2>

			<a href="{{ path('star_new') }}" class="btn btn-primary">
				â• Ajouter une Ã©toile
			</a>
		</div>

		<!-- GRID DES CARDS -->
		<div class="grid grid-4">
			{% for star in stars %}
				<div
					class="star-card d-flex flex-column justify-content-left col-6 col-md-4 col-lg-3 col-xl-12">

					<!-- Image de la card -->
					<div class="image-center">
						<img src="{{ star.image }}" alt="{{ star.name }}" class="image">
					</div>

					<!-- Corps de la card -->
					<div class="card-body text-center">
						<h5 class="card-title">{{ star.name }}</h5>

						<!-- Boutons d'action sur la card -->
						<div class="d-flex justify-center gap-2 mt-2">
							<a href="{{ path('star_edit', {'id': star.id}) }}" class="btn btn-filter ">
								<i class="fa-solid fa-pen"></i>
								Modifier
							</a>
							<form method="post" action="{{ path('star_delete', {'id': star.id}) }}" onsubmit="return confirm('Supprimer cette Ã©toile ?');" style="display:inline-block">

								<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ star.id) }}">

								<button type="submit" class="btn btn-filter">
									<i class="fa-solid fa-trash"></i>
									Supprimer
								</button>
							</form>

						</div>
					</div>

				</div>
			{% else %}
				<p class="text-center text-muted">
					Aucune Ã©toile trouvÃ©e ğŸŒŒ
				</p>
			{% endfor %}
		</div>

	</main>
{% endblock %}
